## Проектирование социальной сети для курса по [System Design](https://github.com/Balun-courses/system_design) 

### Формализация требований к информационной системе

- Функциональные требования:
  - Публикация постов из путешествий с фотографиями, описанием и привязкой к месту путешествия. 
  - Возможность оценки и комментирования постов других путешественников. 
  - Возможность подписки на других путешественников. 
  - Поиск популярных мест для путешествий и просмотр постов с этих мест в виде ТОПа мест по странам и городам. 
  - Возможность общения с другими путешественниками в личных сообщениях. 
  - Просмотр ленты других путешественников.


- Нефункциональные требования:
  - Высокая надежность, availability = 99,99%.
  - Масштабируемость для обеспечения линейного роста пользовательской базы до 10,000,000 уникальных пользователей в день.
    - В среднем в день каждый пользователь дважды публикует пост, который содержит:
      - до 250 текстовых символов, до 2 фото.
  - Данные не должны быть потеряны, данные должны храниться всегда.
  - Работа на СНГ.
  - latency на доступ к ленте постов до 1 секунды.

### Оценка количества требуемых дисков для публикации / поиска / хранения постов

- Оценка требуемой памяти для сохранения 1 поста пользователя: 
  + Размер текстового сообщения: 1 символ Unicode = 2 байта, поэтому 500 символов будет занимать примерно 1000 байт.
  + Размер фотографий: 2 фотографии будут занимать примерно 1 МБ (допущение - размер 1 фотографии 250 КБ).
  + ТЕКСТ (0,001 МБ) + ФОТО (0,5 МБ) = 0.501 МБ, что можно округлить до 0,5 МБ.

- Оценка нагрузки
  + Расчет RPS <br>
    RPS = dau * requests_number_per_day / 86 400 <br> 
    RPS = 10000000 * 1 / 86 400 = 115 <br>
  + Расчет трафика<br>
    Traffic = rps * entity_size<br>
    Traffic_per_second (THROUGPUT) = 115 * 0,5 МБ = 57,5 МБ/с<br>
    Traffic_per_day = 57,5 * 86400 = 4968 GB/day<br>
- Оценка ресурсов
  + Расчет количества дисков<br>
    СAPACITY_PER_YEAR = 365 * 4968 GB = 1813 TB<br>
    DISK_NUMBER_FOR_CAPACITY = СAPACITY_PER_YEAR / DISK_CAPACITY<br>
    DISK_NUMBER_FOR_CAPACITY = 1813 ТБ / 100 ТБ = 18,13 SSD<br>
    

